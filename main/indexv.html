<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor Financeiro Pessoal - Completo</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="/css/styles.css">
    

</head>
<body>
   <body class="app-loading">
  <!-- POP-UP OBRIGAT√ìRIO -->
  <div id="input-modal" class="modal">
    <div class="modal-content">
      <h2>Informa√ß√µes Financeiras</h2>
                
      <div class="form-group">
        <label for="modal-salary">Ordenado Mensal (‚Ç¨)</label>
        <input type="number" id="modal-salary" placeholder="Ex: 1500" min="0" step="0.01">
      </div>

      <h3>Despesas Fixas Mensais</h3>
      <div class="two-columns">
        <div class="form-group">
          <label for="modal-rent">Renda/Presta√ß√£o Casa (‚Ç¨)</label>
          <input type="number" id="modal-rent" placeholder="Ex: 500" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-utilities">√Ågua, Luz, G√°s (‚Ç¨)</label>
          <input type="number" id="modal-utilities" placeholder="Ex: 80" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-internet">Internet/Telem√≥vel (‚Ç¨)</label>
          <input type="number" id="modal-internet" placeholder="Ex: 40" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-transport">Transporte (‚Ç¨)</label>
          <input type="number" id="modal-transport" placeholder="Ex: 60" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-insurance">Seguros (‚Ç¨)</label>
          <input type="number" id="modal-insurance" placeholder="Ex: 30" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-loans">Empr√©stimos/Cr√©ditos (‚Ç¨)</label>
          <input type="number" id="modal-loans" placeholder="Ex: 100" min="0" step="0.01">
        </div>
      </div>

      <h3>Despesas Vari√°veis Mensais</h3>
      <div class="two-columns">
        <div class="form-group">
          <label for="modal-food">Alimenta√ß√£o (‚Ç¨)</label>
          <input type="number" id="modal-food" placeholder="Ex: 300" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-health">Sa√∫de/Farm√°cia (‚Ç¨)</label>
          <input type="number" id="modal-health" placeholder="Ex: 50" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-education">Educa√ß√£o (‚Ç¨)</label>
          <input type="number" id="modal-education" placeholder="Ex: 0" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-clothing">Vestu√°rio (‚Ç¨)</label>
          <input type="number" id="modal-clothing" placeholder="Ex: 50" min="0" step="0.01">
        </div>
      </div>

      <h3>Gastos Sup√©rfluos/Lazer</h3>
      <div class="two-columns">
        <div class="form-group">
          <label for="modal-entertainment">Entretenimento/Streaming (‚Ç¨)</label>
          <input type="number" id="modal-entertainment" placeholder="Ex: 30" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-restaurants">Restaurantes/Caf√©s (‚Ç¨)</label>
          <input type="number" id="modal-restaurants" placeholder="Ex: 100" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-hobbies">Hobbies (‚Ç¨)</label>
          <input type="number" id="modal-hobbies" placeholder="Ex: 50" min="0" step="0.01">
        </div>
        <div class="form-group">
          <label for="modal-other">Outros Gastos (‚Ç¨)</label>
          <input type="number" id="modal-other" placeholder="Ex: 50" min="0" step="0.01">
        </div>
      </div>

      <button class="btn" onclick="saveModalData()">Guardar e Continuar</button>
    </div>
  </div>

  <div class="container">
    <!-- aqui continua o teu HTML normal (tabs, etc.) -->

  </div>

  <div class="container">
    <!-- resto do teu conte√∫do atual -->

    <div class="container">
        <h1>üí∞ Gestor Financeiro Pessoal</h1>
        <p class="subtitle">Gerencie suas finan√ßas de forma inteligente e alcance seus objetivos</p>

        <div class="tabs">
            
            <button class="tab-btn" onclick="showTab('analysis')">üìä An√°lise</button>
            <button class="tab-btn" onclick="showTab('expenses')">üí∏ Despesas</button>
            <button class="tab-btn" onclick="showTab('goals')">üéØ Objetivos</button>
            <button class="tab-btn" onclick="showTab('projection')">üìà Proje√ß√µes</button>
            <button class="tab-btn" onclick="showTab('simulator')">üîÆ Simulador</button>
        </div>

        <!-- TAB 1: Dados Iniciais -->
        <div id="input" class="tab-content active">
            <div class="card">
                <h2>Informa√ß√µes Financeiras</h2>
                
                <div class="form-group">
                    <label for="salary">Ordenado Mensal (‚Ç¨)</label>
                    <input type="number" id="salary" placeholder="Ex: 1500" min="0" step="0.01">
                </div>

                <h3>Despesas Fixas Mensais</h3>
                <div class="two-columns">
                    <div class="form-group">
                        <label for="rent">Renda/Presta√ß√£o Casa (‚Ç¨)</label>
                        <input type="number" id="rent" placeholder="Ex: 500" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="utilities">√Ågua, Luz, G√°s (‚Ç¨)</label>
                        <input type="number" id="utilities" placeholder="Ex: 80" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="internet">Internet/Telem√≥vel (‚Ç¨)</label>
                        <input type="number" id="internet" placeholder="Ex: 40" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="transport">Transporte (‚Ç¨)</label>
                        <input type="number" id="transport" placeholder="Ex: 60" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="insurance">Seguros (‚Ç¨)</label>
                        <input type="number" id="insurance" placeholder="Ex: 30" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="loans">Empr√©stimos/Cr√©ditos (‚Ç¨)</label>
                        <input type="number" id="loans" placeholder="Ex: 100" min="0" step="0.01">
                    </div>
                </div>

                <h3>Despesas Vari√°veis Mensais</h3>
                <div class="two-columns">
                    <div class="form-group">
                        <label for="food">Alimenta√ß√£o (‚Ç¨)</label>
                        <input type="number" id="food" placeholder="Ex: 300" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="health">Sa√∫de/Farm√°cia (‚Ç¨)</label>
                        <input type="number" id="health" placeholder="Ex: 50" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="education">Educa√ß√£o (‚Ç¨)</label>
                        <input type="number" id="education" placeholder="Ex: 0" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="clothing">Vestu√°rio (‚Ç¨)</label>
                        <input type="number" id="clothing" placeholder="Ex: 50" min="0" step="0.01">
                    </div>
                </div>

                <h3>Gastos Sup√©rfluos/Lazer</h3>
                <div class="two-columns">
                    <div class="form-group">
                        <label for="entertainment">Entretenimento/Streaming (‚Ç¨)</label>
                        <input type="number" id="entertainment" placeholder="Ex: 30" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="restaurants">Restaurantes/Caf√©s (‚Ç¨)</label>
                        <input type="number" id="restaurants" placeholder="Ex: 100" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="hobbies">Hobbies (‚Ç¨)</label>
                        <input type="number" id="hobbies" placeholder="Ex: 50" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="other">Outros Gastos (‚Ç¨)</label>
                        <input type="number" id="other" placeholder="Ex: 50" min="0" step="0.01">
                    </div>
                </div>

                <button class="btn" onclick="calculateFinances()">Calcular e Analisar</button>
            </div>
        </div>

        <!-- TAB 2: An√°lise -->
        <div id="analysis" class="tab-content">
            <div id="results" class="hidden">
                <div class="grid">
                    <div class="stat-card">
                        <div class="stat-label">Ordenado Mensal</div>
                        <div class="stat-value" id="stat-salary">‚Ç¨0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Total de Despesas</div>
                        <div class="stat-value" id="stat-expenses">‚Ç¨0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Sobra Mensal</div>
                        <div class="stat-value" id="stat-remaining">‚Ç¨0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Taxa de Poupan√ßa</div>
                        <div class="stat-value" id="stat-savings-rate">0%</div>
                    </div>
                </div>

                <div class="card">
                    <h2>Compara√ß√£o: Actual vs Recomendado</h2>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Categoria</th>
                                <th>Actual (%)</th>
                                <th>Recomendado (%)</th>
                                <th>Diferen√ßa</th>
                            </tr>
                        </thead>
                        <tbody id="comparison-body">
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h2>Distribui√ß√£o Actual</h2>
                    <div class="chart-container">
                        <canvas id="currentChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>Compara√ß√£o Visual</h2>
                    <div class="chart-container">
                        <canvas id="comparisonChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>Recomenda√ß√µes Personalizadas</h2>
                    <ul class="advice-list" id="advice-list"></ul>
                </div>
            </div>

            <div id="no-data" class="card">
                <p style="text-align: center; color: var(--color-text-secondary);">
                    Preencha os dados na aba "Dados Iniciais" para ver a an√°lise.
                </p>
            </div>
        </div>

        <!-- TAB 3: Despesas -->
        <div id="expenses" class="tab-content">
            <div class="card">
                <h2>Registo de Despesas</h2>
                <div class="two-columns">
                    <div class="form-group">
                        <label for="expense-description">Descri√ß√£o</label>
                        <input type="text" id="expense-description" placeholder="Ex: Jantar no restaurante">
                    </div>
                    <div class="form-group">
                        <label for="expense-amount">Valor (‚Ç¨)</label>
                        <input type="number" id="expense-amount" placeholder="Ex: 45.50" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="expense-category">Categoria</label>
                        <select id="expense-category">
                            <option value="Alimenta√ß√£o">Alimenta√ß√£o</option>
                            <option value="Transporte">Transporte</option>
                            <option value="Sa√∫de">Sa√∫de</option>
                            <option value="Habita√ß√£o">Habita√ß√£o</option>
                            <option value="Lazer">Lazer</option>
                            <option value="Educa√ß√£o">Educa√ß√£o</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="expense-date">Data</label>
                        <input type="date" id="expense-date">
                    </div>
                </div>
                <button class="btn" onclick="addExpense()">Adicionar Despesa</button>
            </div>

            <div class="card">
                <h2>Hist√≥rico de Despesas</h2>
                <div id="expense-list">
                    <p style="text-align: center; color: var(--color-text-secondary);">
                        Nenhuma despesa registada ainda.
                    </p>
                </div>
                <div style="margin-top: 20px;">
                    <strong>Total Gasto: <span id="total-expenses">‚Ç¨0.00</span></strong>
                </div>
            </div>

            <div class="card">
                <h2>Despesas por Categoria</h2>
                <div class="chart-container">
                    <canvas id="expenseChart"></canvas>
                </div>
            </div>
        </div>

        <!-- TAB 4: Objetivos -->
        <div id="goals" class="tab-content">
            <div class="card">
                <h2>Criar Objetivo Financeiro</h2>
                <div class="form-group">
                    <label for="goal-name">Nome do Objetivo</label>
                    <input type="text" id="goal-name" placeholder="Ex: Comprar carro">
                </div>
                <div class="two-columns">
                    <div class="form-group">
                        <label for="goal-amount">Valor Necess√°rio (‚Ç¨)</label>
                        <input type="number" id="goal-amount" placeholder="Ex: 15000" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="goal-saved">J√° Poupado (‚Ç¨)</label>
                        <input type="number" id="goal-saved" placeholder="Ex: 2000" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="goal-monthly">Poupan√ßa Mensal (‚Ç¨)</label>
                        <input type="number" id="goal-monthly" placeholder="Ex: 300" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="goal-deadline">Data Alvo</label>
                        <input type="date" id="goal-deadline">
                    </div>
                </div>
                <button class="btn" onclick="addGoal()">Adicionar Objetivo</button>
            </div>

            <div class="card">
                <h2>Meus Objetivos</h2>
                <div id="goals-list">
                    <p style="text-align: center; color: var(--color-text-secondary);">
                        Nenhum objetivo definido ainda.
                    </p>
                </div>
            </div>
        </div>

        <!-- TAB 5: Proje√ß√µes -->
        <div id="projection" class="tab-content">
            <div class="card">
                <h2>Proje√ß√£o Anual</h2>
                <p style="margin-bottom: 20px;">Baseado nos seus dados actuais, veja como ser√° o seu ano financeiro:</p>
                
                <div class="grid">
                    <div class="stat-card">
                        <div class="stat-label">Rendimento Anual</div>
                        <div class="stat-value positive" id="proj-income">‚Ç¨0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Despesas Anuais</div>
                        <div class="stat-value negative" id="proj-expenses">‚Ç¨0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Poupan√ßa Anual</div>
                        <div class="stat-value positive" id="proj-savings">‚Ç¨0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Investimento Anual</div>
                        <div class="stat-value positive" id="proj-investment">‚Ç¨0</div>
                    </div>
                </div>

                <h3>Proje√ß√£o Mensal (12 meses)</h3>
                <table class="projection-table">
                    <thead>
                        <tr>
                            <th>M√™s</th>
                            <th>Rendimento</th>
                            <th>Despesas</th>
                            <th>Poupan√ßa</th>
                            <th>Saldo Acumulado</th>
                        </tr>
                    </thead>
                    <tbody id="projection-table-body">
                    </tbody>
                </table>

                <div class="card">
                    <h3>Evolu√ß√£o do Saldo</h3>
                    <div class="chart-container">
                        <canvas id="projectionChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 6: Simulador -->
        <div id="simulator" class="tab-content">
            <div class="card">
                <h2>Simulador de Cen√°rios</h2>
                <p style="margin-bottom: 20px;">Simule mudan√ßas nas suas finan√ßas e veja o impacto a longo prazo:</p>

                <div class="two-columns">
                    <div class="form-group">
                        <label for="sim-salary-change">Mudan√ßa no Ordenado (%)</label>
                        <input type="number" id="sim-salary-change" placeholder="Ex: 10 para aumento de 10%" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="sim-expense-change">Mudan√ßa nas Despesas (%)</label>
                        <input type="number" id="sim-expense-change" placeholder="Ex: -15 para reduzir 15%" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="sim-new-expense">Nova Despesa Mensal (‚Ç¨)</label>
                        <input type="number" id="sim-new-expense" placeholder="Ex: 200" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="sim-months">Per√≠odo (meses)</label>
                        <input type="number" id="sim-months" placeholder="Ex: 12" min="1" max="120" value="12">
                    </div>
                </div>

                <button class="btn" onclick="runSimulation()">Simular Cen√°rio</button>
            </div>

            <div id="simulation-results" class="hidden">
                <div class="grid">
                    <div class="stat-card">
                        <div class="stat-label">Cen√°rio Actual</div>
                        <div class="stat-value" id="sim-current">‚Ç¨0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Novo Cen√°rio</div>
                        <div class="stat-value" id="sim-new">‚Ç¨0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Diferen√ßa</div>
                        <div class="stat-value" id="sim-diff">‚Ç¨0</div>
                    </div>
                </div>

                <div class="card">
                    <h3>Compara√ß√£o de Cen√°rios</h3>
                    <div class="chart-container">
                        <canvas id="simulationChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h3>An√°lise do Impacto</h3>
                    <div id="simulation-advice"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/script.js" defer></script>
</body>

</html>
